# DSF Studio Pro - Ultimate Edition

デジタルスクロールフィクション制作ツール (完全版)

## 🎯 主な機能

### ✅ 実装済み機能
- **多言語対応** - 日英デフォルト、無制限に言語追加可能
- **3種類のセクションタイプ**
  - 表紙 (Cover): タイトル表示用
  - 画像セクション (Image): 漫画コマ、吹き出し付き
  - テキストセクション (Text Only): 小説形式
- **吹き出し編集**
  - ドラッグ移動
  - リサイズ
  - 個別テキスト編集
  - 縦書き/横書き対応
- **Firebase連携**
  - クラウド保存/読込
  - 画像ストレージ
- **セクション管理**
  - 追加/削除
  - 並び替え
  - サムネイルプレビュー
- **エクスポート**
  - JSON出力
  - HTML埋め込みコード生成
  - プレビュー機能

## 📁 ファイル構成

```
dsf-studio/
├── index.html              # メインHTML
├── css/
│   └── studio.css          # スタイルシート
└── js/
    ├── firebase-config.js  # Firebase設定
    ├── studio-core.js      # コアロジック
    ├── bubble-editor.js    # 吹き出し編集
    └── exporter.js         # エクスポート機能
```

## 🚀 セットアップ

### 1. GitHub Codespacesにアップロード
すべてのファイルをCodespacesのワークスペースにアップロードしてください。

### 2. プレビュー
`index.html`を開いてプレビューを起動してください。

### 3. Firebase設定 (既に設定済み)
`js/firebase-config.js`に既存のFirebase設定が含まれています。

## 📖 使い方

### 基本ワークフロー

1. **プロジェクトIDを設定**
   - 右パネルの「プロジェクトID」に任意のIDを入力 (例: `my-story-001`)

2. **セクションを追加**
   - 左下の「+ セクション追加」をクリック
   - セクションタイプを選択 (表紙/画像/テキスト)

3. **言語ごとにコンテンツを設定**
   - 言語タブで編集したい言語を選択
   - 画像アップロード、テキスト入力
   - 言語ごとに異なる画像も設定可能 (表紙の多言語対応など)

4. **吹き出しを追加 (画像セクションの場合)**
   - 「+ 吹き出しを追加」をクリック
   - キャンバス上でドラッグして位置調整
   - 右下のハンドルでリサイズ
   - テキストを入力

5. **保存**
   - 「クラウドに保存」でFirebaseに保存
   - 「エクスポート (JSON)」でローカルにダウンロード

### 多言語追加

1. 「+ 言語を追加」をクリック
2. 言語コード (例: `zh`, `ko`, `fr`) と言語名を入力
3. 既存のセクション全てに新言語データが自動追加されます

### セクション操作

- **並び替え**: 「↑上へ移動」「↓下へ移動」ボタン
- **削除**: 「🗑️ セクション削除」ボタン
- **複製**: 未実装 (今後追加可能)

### エクスポート

**JSON形式**
- 「📤 エクスポート (JSON)」でダウンロード
- ビューワーで読み込み可能な形式

**埋め込みコード**
- 「🔗 埋め込みコード生成」をクリック
- 表示されたHTMLコードをコピー
- ウェブサイトに貼り付け

## 🔧 カスタマイズ

### 新しい言語を追加
UIから追加できますが、コードで追加する場合:
```javascript
project.languages.push('zh'); // 中国語
```

### 新しいセクションタイプを追加
`studio-core.js`の`addSection()`関数を編集:
```javascript
newSection.type = "video"; // 動画セクション
```

### 吹き出しデザインを変更
`bubble-editor.js`のSVG部分を編集:
```javascript
<ellipse cx="60" cy="35" rx="55" ry="30" fill="white" stroke="black" stroke-width="2"/>
```

## 🐛 トラブルシューティング

### 画像がアップロードできない
- Firebase Storageのルールを確認
- ブラウザのコンソールでエラーを確認

### 保存できない
- プロジェクトIDが入力されているか確認
- Firebase Firestoreのルールを確認

### 吹き出しが動かない
- ブラウザの開発者ツールでJavaScriptエラーを確認
- ページをリロード

## 📋 今後の拡張案

### すぐに追加できる機能
- セクション複製
- 吹き出しテンプレート
- カラーピッカー
- フォント選択
- アニメーション設定
- 音声追加
- 動画セクション

### データ構造の拡張性
現在のデータ構造は以下の追加を想定:
```javascript
{
  languages: {
    ja: {
      background: "url_ja.png",    // 言語ごとの画像
      title: "日本語タイトル",
      content: "本文",
      captions: [...],
      audio: "audio_ja.mp3"        // 音声 (将来)
    }
  }
}
```

## 🎨 ビューワーの実装

ビューワーは別途実装予定ですが、`exporter.js`の`previewViewer()`関数に
簡易プレビュー機能があります。

完全なビューワーには以下が必要:
- スクロール検出
- ページ遷移アニメーション
- 言語切り替えUI
- レスポンシブ対応
- 埋め込みモード

## 📞 サポート

質問や改善要望があれば、Claudeに直接聞いてください!
