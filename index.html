<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>DSF Studio Pro - Ultimate Edition</title>
    <link rel="stylesheet" href="css/main.css">
</head>

<body>

    <div id="sidebar">
        <div style="padding:10px; border-bottom:1px solid #eee;">
            <label style="font-size:11px;">サムネイルサイズ</label>
            <input type="range" min="50" max="100" value="100" oninput="resizeThumbs(this.value)">
        </div>
        <div id="thumb-container"></div>
        <div style="padding:10px;"><button class="btn" onclick="addSection()">+ セクション追加</button></div>
    </div>

    <div id="editor-main">
        <div id="canvas-view" onmousedown="handleCanvasClick(event)">
            <div id="content-render"></div>
            <div id="bubble-layer"></div>
        </div>
    </div>

    <div id="panel-right">
        <div class="control-group" style="background:#eef7ff;">
            <h4>プロジェクト管理</h4>
            <input type="text" id="project-id" placeholder="作品ID" style="width:100%; padding:8px; margin-bottom:10px;">
            <button class="btn" style="background:#34c759; color:#fff;" onclick="saveToCloud()">クラウドに保存</button>
            <button class="btn" style="background:var(--primary); color:#fff;" onclick="loadFromCloud()">読込</button>
        </div>

        <div class="control-group">
            <h4>セクション設定</h4>
            <label>タイプ</label>
            <select id="prop-type" onchange="update('type', this.value)" style="width:100%; margin-bottom:10px;">
                <option value="image">イメージセクション</option>
                <option value="text">テキストセクション</option>
            </select>

            <div id="image-only-props">
                <label>背景画像アップロード</label>
                <input type="file" accept="image/*" onchange="uploadToStorage(this)">
            </div>

            <label>文字の向き</label>
            <select id="prop-mode" onchange="update('writingMode', this.value)" style="width:100%; margin-bottom:10px;">
                <option value="horizontal-tb">横書き</option>
                <option value="vertical-rl">縦書き</option>
            </select>

            <label id="text-label">テキスト入力 (選択中の吹き出し or 背景テキスト)</label>
            <textarea id="prop-text" rows="5" style="width:100%;" oninput="updateActiveText(this.value)"></textarea>

            <button class="btn" style="margin-top:10px; background:#ff3b30; color:#fff;"
                onclick="deleteActive()">削除</button>
        </div>
    </div>

    <script type="module" src="js/app.js"></script>
</body>

</html>